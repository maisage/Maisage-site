<!-- Shared Breadcrumb Component -->

<div id="breadcrumb-wrapper">
  <p class="text-xs sm:text-sm text-slate-600 mt-4 mb-3 px-4 sm:px-6 lg:px-8 leading-relaxed">
    <a href="index.html" class="hover:text-emerald-700 underline-offset-2 hover:underline">
      Home
    </a>

    <!-- Parent section if provided -->
    <span id="breadcrumb-parent-wrapper" class="hidden">
      <span class="mx-1 text-slate-400">/</span>
      <a id="breadcrumb-parent-link"
         href="#"
         class="hover:text-emerald-700 underline-offset-2 hover:underline"></a>
    </span>

    <!-- Current page -->
    <span class="mx-1 text-slate-400">/</span>
    <span id="breadcrumb-current" class="text-slate-800 font-semibold"></span>
  </p>
</div>

<script>
  (function () {
    const wrapper = document.getElementById('breadcrumb-wrapper');
    const currentEl = document.getElementById('breadcrumb-current');
    const parentWrapper = document.getElementById('breadcrumb-parent-wrapper');
    const parentLinkEl = document.getElementById('breadcrumb-parent-link');

    const current = window.breadcrumbCurrent || "";
    const parent = window.breadcrumbParent || null;
    const parentLink = window.breadcrumbParentLink || null;

    // If no current label, or explicitly "Home" with no parent, hide the whole breadcrumb
    if (!current || (current === "Home" && !parent)) {
      if (wrapper) wrapper.classList.add('hidden');
      return;
    }

    // Set current label
    if (currentEl) currentEl.textContent = current;

    // If there is a parent, show it
    if (parent && parentLink && parentWrapper && parentLinkEl) {
      parentWrapper.classList.remove('hidden');
      parentLinkEl.textContent = parent;
      parentLinkEl.href = parentLink;
    }
  })();
</script>
